# Program performance

> 程序性能


#### 17.5 内存与性能

> 在JavaScript中，页面中事件处理程序的数量与页面整体性能直接相关。原因有很多。首先，每个函数都是对象，都占用内存空间，对象越多，性能越差。其次，为指定事件处理程序所需访问DOM的次数会先期造成整个页面交互的延迟。只要在使用事件处理程序时多注意一些方法，就可以改善页面性能。

> 过多事件处理程序”的解决方案是使用事件委托.事件委托利用事件冒泡，可以只使用一个事件处理程序来管理一种类型的事件.

> 事件委托具有如下优点。document对象随时可用，任何时候都可以给它添加事件处理程序（不用等待DOMContentLoaded或load事件）。这意味着只要页面渲染出可点击的元素，就可以无延迟地起作用。节省花在设置页面事件处理程序上的时间。只指定一个事件处理程序既可以节省DOM引用，也可以节省时间。减少整个页面所需的内存，提升整体性能。

> 最适合使用事件委托的事件包括：click、mousedown、mouseup、keydown和keypress。

> 最好限制一个页面中事件处理程序的数量，因为它们会占用过多内存，导致页面响应缓慢；
> 利用事件冒泡，事件委托可以解决限制事件处理程序数量的问题；
> 最好在页面卸载之前删除所有事件处理程序。